<ion-view title="{{base.title}}">
  <ion-nav-buttons side="left">
    <button menu-toggle="left" class="button button-icon icon ion-navicon"></button>
  </ion-nav-buttons>
  <ion-content class="has-header">
    <div class="list card">
      <div class="item item-avatar">
        <img src="avatar.jpg">
        <h2>{{base.title}}</h2>
        <p>Nine Inch Nails</p>
      </div>
      <div class="item item-image">
        <img local-image="{{APPDIR}}{{base.path}}cover.jpg" ng-src="">
      </div>
      <div class="item tabs tabs-secondary tabs-icon-left">
        <button class="button button-clear tab-item" ng-class="{'button-positive':playBaseBtn,'button-energized':!playBaseBtn}" ng-click="playBaseBtn ? playBase() : pauseBase()">
          <i class="icon ion-play" ng-class="{'ion-play':playBaseBtn,'ion-pause':!playBaseBtn}"></i> {{playBaseBtn? 'Play Base' : 'Pause Base'}}
        </button>
        <button class="button button-clear tab-item" ng-class="{'button-assertive':startRecordBtn,'button-energized':!startRecordBtn}" ng-click="startRecordBtn ? startRecord() : stopRecord()">
          <i class="icon" ng-class="{'ion-record':startRecordBtn,'ion-stop':!startRecordBtn}"></i> {{startRecordBtn? 'Grabar' : 'Para Grabación'}}
        </button>
      </div>
    </div>
    <button ng-show="playRecordBtn" ng-click="playRecord()" class="button button-block icon-left ion-play button-calm ng-hide"><strong>PLAY</strong>
    </button>
    <button ng-show="pauseRecordBtn" ng-click="pauseRecord()" class="button button-block icon-left ion-pause button-energized ng-hide"><strong>PAUSE</strong>
    </button>
    <div ng-show="playRecordBtn" class="button-bar">
      <a class="button button-balanced" ng-click="showSaveForm()">GUARDAR</a>
      <a class="button button-assertive" ng-click="recordAgain()">VOLVER A GRABAR</a>
    </div>
    <form ng-submit="saveRecord()" ng-show="saveRecordBtn">
      <label class="item item-input item-stacked-label">
        <span class="input-label">Nombre:</span>
        <input type="text" ng-model="record.name" placeholder="Pon un nombre a esta grabación." />
      </label>
      <label class="item item-input item-stacked-label">
        <span class="input-label">Descripción:</span>
        <textarea placeholder="Pon una descripción a esta grabación." ng-model="record.text"></textarea>
      </label>
      <label class="item">
        <button class="button button-block button-positive" type="submit">Guardar</button>
      </label>
    </form>
  </ion-content>
</ion-view>
